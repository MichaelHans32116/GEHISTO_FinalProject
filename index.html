<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Japanese Occupation</title>
    <link rel="stylesheet" href="/HomePage/HomePage.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />
</head>
<audio autoplay loop>
  <source src="/HomePage/pictures/Pearl Harbor - Japanese Empire - Theme Suite.mp3" type="audio/mpeg">
</audio>

<body>
    <header>
        <nav class="navbar">
            <ul>
                <li><a href="Index.html" class="active">Home</a></li>
                <li><a href="/InteractiveMap/InteractiveMap.html">HistoMap</a></li>
                <li><a href="/about/developers.html">Developers</a></li>
                <li><a href="/VictimsPage/Victims.html">Victims</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="hero">
            <div class="overlay">
                <div class="left-content">
                    <h1>The Japanese<br><span>Occupation</span></h1>
                    <p>
                        Experience history like never before—explore battles, resistance movements,
                        and the resilience of the Filipino spirit through interactive maps, quizzes,
                        and multimedia content.
                    </p>
                    <!-- CORRECTED BUTTON LINK -->
                    <button onclick="location.href='/InteractiveMap/InteractiveMap.html'">Explore</button>
                </div>
            </div>
        </section>

        <section class="swiper-section">
             <h2>Key Events & Locations</h2>
            <div class="swiper">
                <div class="swiper-wrapper">
                    <!-- Slide 1 -->
                    <div class="swiper-slide swiper-slide--one">
                        <div class="card-inner">
                            <div class="card-front">
                                <span>Battle</span>
                                <div>
                                    <h2>Japanese Invasion and Initial Occupation</h2>
                                    <p>
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" />
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" />
                                        </svg>
                                        Bataan Peninsula, Philippines (1942)
                                    </p>
                                </div>
                            </div>
                            <div class="card-back">
                                <h3>Invasion Details</h3>
                                <p>The Japanese invasion of the Philippines started on December 8, 1941. General Douglas MacArthur declared Manila an open city to spare it from destruction.</p>
                            </div>
                        </div>
                    </div>
                    <!-- Slide 2 -->
                    <div class="swiper-slide swiper-slide--two">
                        <div class="card-inner">
                            <div class="card-front">
                                <span>Resistance</span>
                                <div>
                                    <h2>Life Under Japanese Rule</h2>
                                    <p>
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" />
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" />
                                        </svg>
                                        Across the Archipelago
                                    </p>
                                </div>
                            </div>
                            <div class="card-back">
                                <h3>Life Under Occupation</h3>
                                <p>Life was difficult. There were food shortages, strict curfews, and the Kempeitai (Japanese military police) instilled fear. Propaganda was widespread.</p>
                            </div>
                        </div>
                    </div>
                    <!-- Slide 3 -->
                    <div class="swiper-slide swiper-slide--three">
                        <div class="card-inner">
                            <div class="card-front">
                                <span>Tragedy</span>
                                <div>
                                    <h2>The Resistance and Guerrilla Movement</h2>
                                    <p>
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" />
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" />
                                        </svg>
                                        Luzon, Philippines (April 1942)
                                    </p>
                                </div>
                            </div>
                            <div class="card-back">
                                <h3>Guerrilla Warfare</h3>
                                <p>Filipino guerrillas bravely fought against the Japanese throughout the occupation, providing intelligence to Allies and disrupting enemy operations. The Bataan Death March was a horrific event where many prisoners of war perished.</p>
                            </div>
                        </div>
                    </div>
                    <!-- Slide 4 -->
                    <div class="swiper-slide swiper-slide--four">
                        <div class="card-inner">
                            <div class="card-front">
                                <span>Liberation</span>
                                <div>
                                    <h2>Japanese Atrocities and Human Rights Violations</h2>
                                    <p>
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" />
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" />
                                        </svg>
                                        Manila, Philippines (1945)
                                    </p>
                                </div>
                            </div>
                            <div class="card-back">
                                <h3>Human Cost</h3>
                                <p>The occupation saw widespread atrocities, including the Manila Massacre in 1945, where an estimated 100,000 civilians were killed. Comfort women were also a tragic reality.</p>
                            </div>
                        </div>
                    </div>
                    <!-- Slide 5 -->
                    <div class="swiper-slide swiper-slide--five">
                         <div class="card-inner">
                            <div class="card-front">
                                <span>Impact</span>
                                <div>
                                    <h2>Liberation and Aftermath</h2>
                                    <p>
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" />
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" />
                                        </svg>
                                        Philippines
                                    </p>
                                </div>
                            </div>
                            <div class="card-back">
                                <h3>Road to Recovery</h3>
                                <p>The Philippines was liberated in 1945, but the country was devastated. The period marked a long road to rebuilding and eventual independence from the U.S. in 1946.</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="swiper-pagination"></div>
            </div>
        </section>

        <!-- END NEW VOICES FROM THE PAST SECTION -->

        <section class="test-yourself">
            <div class="test-container">
                <div class="test-image">
                    <img src="/HomePage/pictures/testimage.jpg" alt="Test Yourself">
                </div>
                <div class="test-text">
                    <h2>Test Yourself!</h2>
                    <p>
                        Ready to challenge your knowledge about the Japanese Occupation? Click below to take the quiz and see how much you’ve learned!
                    </p>
                    <button onclick="location.href='/Quiz/Apiado.Quiz/Quiz.html'">Take the Quiz</button>
                </div>
            </div>
        </section>

        <!-- START NEW TIMELINE SECTION -->
        <section class="timeline-section">
            <h2>Timeline of Key Events</h2>
            <div class="timeline-container">
                <div class="timeline-item">
                    <div class="timeline-date">December 8, 1941</div>
                    <div class="timeline-event">
                        <h3>Start of Bombings</h3>
                        <p>Japan attacked the Philippines, just hours after the attack on Pearl Harbor.</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">April 9, 1942</div>
                    <div class="timeline-event">
                        <h3>Fall of Bataan</h3>
                        <p>Filipino and American forces in Bataan surrendered, leading to the Bataan Death March.</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">October 20, 1944</div>
                    <div class="timeline-event">
                        <h3>MacArthur's Return</h3>
                        <p>General Douglas MacArthur and Allied forces landed in Leyte, beginning the liberation of the Philippines.</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">February - March 1945</div>
                    <div class="timeline-event">
                        <h3>Battle of Manila</h3>
                        <p>A month-long bloody battle for the liberation of Manila, resulting in widespread destruction and civilian casualties.</p>
                    </div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">September 2, 1945</div>
                    <div class="timeline-event">
                        <h3>Formal Japanese Surrender</h3>
                        <p>Japan formally surrendered to the Allies, officially ending World War II.</p>
                    </div>
                </div>
            </div>
        </section>
        <!-- END NEW TIMELINE SECTION -->

    </main>

    <section class="references-section">
        <h2>References</h2>
        <div class="references-content">
            <p>The information presented on the flashcards is based on general historical knowledge of the Japanese Occupation of the Philippines. For detailed study and specific citations, please consult scholarly works such as:</p>
            <ul>
                <li>Castillo, J. (2024). Pagsalakay ng Japan sa Pilipinas.   Retrieved from <a href="https://pinoyweekly.org/2024/12/pagsalakay-ng-japan-sa-pilipinas/." target="_blank" rel="noopener noreferrer">https://pinoyweekly.org/2024/12/pagsalakay-ng-japan-sa-pilipinas/.</a></li>
                <li>National Historical Commission of the Philippines. (n.d.). Historical Articles and Resources. Retrieved from <a href="https://nhcp.gov.ph/" target="_blank" rel="noopener noreferrer">https://nhcp.gov.ph/</a></li>
                <li>Official Gazette of the Republic of the Philippines. (n.d.). World War II in the Philippines. Retrieved from <a href="https://www.officialgazette.gov.ph/featured/world-war-ii/" target="_blank" rel="noopener noreferrer">https://www.officialgazette.gov.ph/featured/world-war-ii/</a></li>
            </ul>
            <p class="note"><strong>Note:</strong> For precise academic citation, specific page numbers and articles from these and other peer-reviewed sources should be consulted for each fact presented.</p>
        </div>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
    <script>
        const swiperSection = document.querySelector('.swiper-section'); // Get the section element

        var swiper = new Swiper(".swiper", {
          effect: "coverflow", // Keep coverflow, we'll tweak its params
          grabCursor: true,
          centeredSlides: true,
          slidesPerView: "auto", // Important for coverflow to work well with different slide widths
          speed: 800, // Slightly faster transition
          loop: true,
          autoplay: {
            delay: 3500, // Slightly longer delay
            disableOnInteraction: false,
          },
          coverflowEffect: {
            rotate: 40,        // Rotate angle of non-active slides
            stretch: 0,        // Stretch space between slides (0 means no stretch)
            depth: 200,        // Depth of the effect (how far back non-active slides appear)
            modifier: 1,       // Effect multiplier (1 is normal)
            slideShadows: true, // Enable shadows on sides of slides
          },
          // watchSlidesProgress: true, // May need this if doing complex custom transitions per slide
          // watchSlidesVisibility: true, // May need this as well

          spaceBetween: 60, // Increase space between slides for more depth perception

          pagination: {
            el: ".swiper-pagination",
            clickable: true
          },
          on: {
            // --- EVENT TO UPDATE BACKGROUND ---
            slideChangeTransitionStart: function () {
                // Get the current active slide
                const activeSlide = this.slides[this.activeIndex];
                if (activeSlide && swiperSection) {
                    // Get the computed background image style of the active slide
                    const computedStyle = window.getComputedStyle(activeSlide);
                    const backgroundImage = computedStyle.backgroundImage;

                    // Set the CSS variable on the swiper-section
                    // This will make the ::before pseudo-element update its background
                    if (backgroundImage && backgroundImage !== 'none') {
                        swiperSection.style.setProperty('--swiper-section-bg', backgroundImage);
                    } else {
                        // Fallback if no image (e.g., if it's just a color)
                        swiperSection.style.setProperty('--swiper-section-bg', "url('pictures/bg.png')"); // Your default
                    }
                }
                // Reset flip state of all cards when slide changes
                this.slides.forEach(slide => {
                    slide.classList.remove('is-flipped');
                });
            },
            click: function (swiperInstance, event) {
              // Your existing card flip logic
              const clickedSlideEl = event.target.closest('.swiper-slide');
              if (clickedSlideEl) {
                // Only flip if the clicked slide is the active one or if you allow flipping non-active
                if (clickedSlideEl.classList.contains('swiper-slide-active') || true) { // set to true to allow flipping any visible slide
                    clickedSlideEl.classList.toggle('is-flipped');
                    if (clickedSlideEl.classList.contains('is-flipped')) {
                        this.autoplay.stop();
                        // Optional: if a non-active card is flipped, bring it to center?
                        // if (!clickedSlideEl.classList.contains('swiper-slide-active')) {
                        //   const slideIndex = Array.from(this.slides).indexOf(clickedSlideEl);
                        //   if (slideIndex !== -1) this.slideToLoop(slideIndex);
                        // }
                    } else {
                        // Only restart autoplay if no cards are flipped AND autoplay was not manually disabled
                        if (this.params.autoplay.disableOnInteraction === false) {
                            const anyFlipped = document.querySelector('.swiper-slide.is-flipped');
                            if (!anyFlipped) {
                                this.autoplay.start();
                            }
                        }
                    }
                }
              }
            },
            // --- INITIAL BACKGROUND SET ---
            init: function () {
                const initialActiveSlide = this.slides[this.activeIndex];
                 if (initialActiveSlide && swiperSection) {
                    const computedStyle = window.getComputedStyle(initialActiveSlide);
                    const backgroundImage = computedStyle.backgroundImage;
                     if (backgroundImage && backgroundImage !== 'none') {
                        swiperSection.style.setProperty('--swiper-section-bg', backgroundImage);
                    }
                }
            }
          }
        });
    </script>
</body>
</html>